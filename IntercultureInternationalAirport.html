<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Interculture International Airport</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f6f8;
        padding: 20px;
        font-size: 18px;
    }

    h1 {
        text-align: center;
        font-size: 36px;
    }

    .rounds {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-bottom: 30px;
    }

    button {
        padding: 16px;
        font-size: 18px;
        cursor: pointer;
    }

    .round-btn {
        font-weight: bold;
        font-size: 20px;
    }

    .puzzle-container,
    .code-container {
        display: none;
        background: white;
        border: 1px solid #ccc;
        padding: 25px;
        margin-top: 25px;
    }

    .puzzle-btn {
        display: block;
        margin: 12px 0;
        width: 260px;
        font-weight: bold;
    }

    input {
        padding: 12px;
        width: 260px;
        font-size: 18px;
        margin-right: 10px;
    }

    .message {
        margin-top: 20px;
        font-weight: bold;
        font-size: 20px;
    }

    .tip-btn {
        display: none;
        margin-top: 15px;
    }

    /* RED "I GIVE UP" BUTTON */
    #giveUpButton {
        background-color: #e74c3c;
        color: white;
        border: none;
    }

    #giveUpButton:hover {
        background-color: #c0392b;
    }

    .tip-text {
        display: none;
        margin-top: 15px;
        background: #ffeaa7;
        padding: 15px;
    }

    .success-text {
        display: none;
        margin-top: 15px;
        background: #b8f7c1;
        padding: 15px;
    }

    .popup {
        display: none;
        margin-top: 20px;
        background: #eee;
        padding: 20px;
        border: 1px solid #aaa;
    }
</style>
</head>
<body>

<h1>Interculture International Airport</h1>

<div class="rounds" id="rounds"></div>

<div class="puzzle-container" id="puzzleContainer"></div>

<div class="code-container" id="codeContainer">
    <input type="text" id="codeInput" placeholder="Enter secret code">
    <button id="submitButton">Submit</button>

    <div class="message" id="message"></div>

    <button class="tip-btn" id="tipButton">Tip?</button>
    <button class="tip-btn" id="giveUpButton">I give up</button>

    <div class="tip-text" id="tipText"></div>
    <div class="success-text" id="successText"></div>

    <div class="popup" id="giveUpPopup">
        <p>Are you sure you want to reveal the Answer?</p>
        <button id="giveUpYes">Yes</button>
        <button id="giveUpNo">No</button>
    </div>
</div>

<script>
/* ======================
   CONFIGURATION (EDIT FREELY)
   ====================== */

const data = {
    "1": {
        "1.1": { code: "Diversity", tip: "The words in bold, form something.", success: "Look under your table." },
        "1.2": { code: "DEC", tip: "Sort the terms by the number of times they occur.", success: "Check under your chair at the next location." }
    },
    "2": { "2.1": { code: "", tip: "", success: "" }, "2.2": { code: "", tip: "", success: "" } },
    "3": { "3.1": { code: "", tip: "", success: "" }, "3.2": { code: "", tip: "", success: "" } },
    "4": { "4.1": { code: "", tip: "", success: "" }, "4.2": { code: "", tip: "", success: "" } },
    "5": { "5.1": { code: "", tip: "", success: "" }, "5.2": { code: "", tip: "", success: "" } },
    "6": { "6.1": { code: "", tip: "", success: "" }, "6.2": { code: "", tip: "", success: "" } },
    "7": { "7.1": { code: "", tip: "", success: "" }, "7.2": { code: "", tip: "", success: "" } },
    "8": { "8.1": { code: "", tip: "", success: "" }, "8.2": { code: "", tip: "", success: "" } },
    "9": { "9.1": { code: "", tip: "", success: "" }, "9.2": { code: "", tip: "", success: "" } }
};

/* ======================
   LOGIC (DO NOT TOUCH)
   ====================== */

const roundsDiv = document.getElementById("rounds");
const puzzleContainer = document.getElementById("puzzleContainer");
const codeContainer = document.getElementById("codeContainer");

const codeInput = document.getElementById("codeInput");
const submitButton = document.getElementById("submitButton");
const message = document.getElementById("message");
const tipButton = document.getElementById("tipButton");
const giveUpButton = document.getElementById("giveUpButton");
const tipText = document.getElementById("tipText");
const successText = document.getElementById("successText");
const giveUpPopup = document.getElementById("giveUpPopup");

let currentPuzzle = null;
let failedAttempts = 0;

// Submit via button
submitButton.addEventListener("click", checkCode);

// Submit via ENTER key
codeInput.addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
        event.preventDefault();
        checkCode();
    }
});

// Create rounds
Object.keys(data).forEach(round => {
    const btn = document.createElement("button");
    btn.className = "round-btn";
    btn.textContent = `Round ${round}`;
    btn.onclick = () => showPuzzles(round);
    roundsDiv.appendChild(btn);
});

function showPuzzles(round) {
    puzzleContainer.innerHTML = "";
    puzzleContainer.style.display = "block";
    codeContainer.style.display = "none";

    Object.keys(data[round]).forEach(puzzle => {
        const btn = document.createElement("button");
        btn.className = "puzzle-btn";
        btn.textContent = `Puzzle ${puzzle}`;
        btn.onclick = () => selectPuzzle(round, puzzle);
        puzzleContainer.appendChild(btn);
    });
}

function selectPuzzle(round, puzzle) {
    currentPuzzle = data[round][puzzle];
    failedAttempts = 0;

    codeInput.value = "";
    message.textContent = "";
    tipButton.style.display = "none";
    giveUpButton.style.display = "none";
    tipText.style.display = "none";
    successText.style.display = "none";
    giveUpPopup.style.display = "none";
    codeContainer.style.display = "block";
}

function checkCode() {
    if (!currentPuzzle) return;

    tipText.style.display = "none";
    successText.style.display = "none";

    const userCode = codeInput.value.trim().toLowerCase();
    const correctCode = currentPuzzle.code.trim().toLowerCase();

    if (userCode === correctCode) {
        message.textContent = "Correct code";
        successText.textContent = currentPuzzle.success;
        successText.style.display = "block";
        tipButton.style.display = "none";
        giveUpButton.style.display = "none";
    } else {
        failedAttempts++;
        message.textContent = "Wrong code";
        tipButton.style.display = "inline-block";

        if (failedAttempts >= 3) {
            giveUpButton.style.display = "inline-block";
        }
    }
}

tipButton.addEventListener("click", () => {
    tipText.textContent = currentPuzzle.tip;
    tipText.style.display = "block";
});

giveUpButton.addEventListener("click", () => {
    giveUpPopup.style.display = "block";
});

document.getElementById("giveUpYes").addEventListener("click", () => {
    message.textContent = "Answer revealed";
    successText.textContent = currentPuzzle.success;
    successText.style.display = "block";
    giveUpPopup.style.display = "none";
    tipButton.style.display = "none";
    giveUpButton.style.display = "none";
});

document.getElementById("giveUpNo").addEventListener("click", () => {
    giveUpPopup.style.display = "none";
});
</script>

</body>
</html>
